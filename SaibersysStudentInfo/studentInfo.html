<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Info</title>
    <link href="studentinfo.css" rel="stylesheet" type="text/css">
</head>
<body>

<div id="inputfield">
    <fieldset id="tab2"> <br>
        <legend></legend>
        <h4>User Details</h4>
        FirstName:<input type="text" name="fname" id="fname" class="inputtext"><br><br>
        LastName:<input type="text" name="lname" id="lname" class="inputtext"><br><br>
        DateOfBirth: <input type="text" name="age" id="age" class="inputtext"><br><br>
        <button onclick="addTableRow()" class="btn">Add</button>
        <button onclick="hidedetails()" class="btn">cancel</button>
    </fieldset>
</div>

<div class="container">

    <input type="button" value="NewUser" onclick="showdetails()" id="newuserbtn">
    <input type="button" value="EditUser" onclick="editTableContent()" id="edituserbtn">
    <h1><span>Student Information</span></h1>
    <div class="tab tab-1">
        <table id="table" border="1">
            <tr>
                <th>FirstName</th>
                <th>LastName</th>
                <th>DateOfBirth</th>
            </tr>
            <tr>
                <td>Revathi</td>
                <td>Chittepureddy</td>
                <td>01/06/1993</td>
            </tr>
            <tr>
                <td>sanket</td>
                <td>Pagal No1</td>
                <td>03/04/1987</td>
            </tr>
            <tr>
                <td>devyani</td>
                <td>deshmukh</td>
                <td>2/3/1998</td>
            </tr>
            <tr>
                <td>grevil</td>
                <td>gavar</td>
                <td>4/5/1987</td>
            </tr>
        </table>
    </div>

</div>




<script>

    var rIndex,table = document.getElementById("table");

    function addTableRow() {
        var newRow = table.insertRow(table.length),
            cell1 = newRow.insertCell(0),
            cell2 = newRow.insertCell(1),
            cell3 = newRow.insertCell(2),
            fname = document.getElementById("fname").value,
            lname = document.getElementById("lname").value,
            age = document.getElementById("age").value;

          cell1.innerHTML = fname;
          cell2.innerHTML = lname;
          cell3.innerHTML = age;
        selectedRowToInput();
        clearcontent();
        
    }
    
    function selectedRowToInput() {

        for(var i = 1; i < table.rows.length;i++){
            table.rows[i].onclick = function () {
                rIndex = this.rowIndex;
                console.log(rIndex);
                document.getElementById("fname").value = this.cells[0].innerHTML;
                document.getElementById("lname").value = this.cells[1].innerHTML;
                document.getElementById("age").value = this.cells[2].innerHTML;

            };

        }
        
    }
    selectedRowToInput();

    function editTableContent() {
        var fname = document.getElementById("fname").value,
            lname = document.getElementById("lname").value,
            age = document.getElementById("age").value;

        table.rows[rIndex].cells[0].innerHTML = fname;
        table.rows[rIndex].cells[1].innerHTML = lname;
        table.rows[rIndex].cells[2].innerHTML = age;

   clearcontent();
    }

    function clearcontent() {
       // alert("hii");
        document.getElementById("fname").value = " ";
        document.getElementById("lname").value = " ";
        document.getElementById("age").value = " ";


    }

    function showdetails() {
        document.getElementById("inputfield").style.display = "block";

    }


    function hidedetails() {
        document.getElementById("inputfield").style.display = "none";
        clearcontent();

    }


</script>
</body>
</html>